#!/bin/bash

# Check if a package is missing
if ! [ -x "$(command -v curl)" ]; then
    echo -e $text_yellow && echo "Installing necessary packages curl..." && echo -e $text_reset
    sudo apt install curl -y > /dev/null
    clear
fi
if ! [ -x "$(command -v jq)" ]; then
    echo -e $text_yellow && echo "Installing necessary package jq..." && echo -e $text_reset
    sudo apt install jq -y > /dev/null
    clear
fi
if ! [ -x "$(command -v nano)" ]; then
    echo -e $text_yellow && echo "Installing necessary package nano..." && echo -e $text_reset
    sudo apt install nano -y > /dev/null
    clear
fi
if ! [ -x "$(command -v whois)" ]; then
    echo -e $text_yellow && echo "Installing necessary package whois..." && echo -e $text_reset
    sudo apt install whois -y > /dev/null
    clear
fi
if ! [ -x "$(command -v sponge)" ]; then
    echo -e $text_yellow && echo "Installing necessary package moreutils..." && echo -e $text_reset
    sudo apt install moreutils -y > /dev/null
    clear
fi
if ! [ -x "$(command -v snap)" ]; then
    echo -e $text_yellow && echo "Installing necessary package snap..." && echo -e $text_reset
    sudo apt install snapd -y > /dev/null
    clear
fi
# Add snap to enviroment file
if ! grep -q /snap/bin "$envfile"; then
    envpath="$(cat /etc/environment | sed 's/.$//')"
    echo "$envpath:/snap/bin\"" > /etc/environment
fi
