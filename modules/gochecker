#!/bin/bash

go=1.15/stable

# Define latest go version
latestgo="tracking:     $go"

# Get local go version
localgo="$(snap info go | grep tracking)"

if [ "$latestgo" != "$localgo" ] && [[ $localgo = tracking* ]]; then
    sudo snap refresh go --channel=$go --classic
    whiptail --title "Welcome to SWARM! [v$version]" --msgbox "A new GO version was installed and a system reboot is required!" 8 65
    restart=true
fi