#!/bin/bash
source /var/lib/swarm/modules/variables
source $configs/hornet.cfg
source $configs/bee.cfg
source $configs/goshimmer.cfg
source $configs/swarm.cfg
source $configs/proxy.cfg

# Get Service Status
hornetStatus="$(systemctl show -p ActiveState --value hornet)"
beeStatus="$(systemctl show -p ActiveState --value bee)"
goshimmerStatus="$(systemctl show -p ActiveState --value goshimmer)"

# Set timeframe
timeframe=`date '+%M'`

# SWARM auto updater
source $modules/watchdog/swarmAutoUpdate

# Update check
source $modules/watchdog/autoNodeUpdate

# Service check
source $modules/watchdog/statusCheck

# Check sync
source $modules/watchdog/syncCheck

# Check proxy status
source $modules/watchdog/proxyCheck

# Log Pruning
source $modules/watchdog/logPruning


exit 0
